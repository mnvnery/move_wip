{"version":3,"sources":["src/matterjs.js"],"names":["canvas","$","get","dimensions","width","window","height","Matter","use","runMatter","Engine","Events","Runner","Render","World","Body","Mouse","Common","Composite","Composites","Bodies","engine","create","world","gravity","y","x","scale","render","element","options","showVelocity","wireframes","background","runner","attractiveBody","circle","Math","max","fillStyle","strokeStyle","lineWidth","isStatic","plugin","attractors","bodyA","bodyB","position","add","i","random","s","poligonNumber","body","polygon","mass","friction","frictionAir","angle","round","r","mouse","on","translate","data","stop","play","run","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","setWindowSize","m","resize"],"mappings":"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","file":"matterjs.84ed5a46.js","sourceRoot":"..","sourcesContent":["var canvas = $(\"#wrapper-canvas\").get(0);\n\nvar dimensions = {\n  width: $(window).width(),\n  height: $(window).height()\n};\n\nMatter.use('matter-attractors');\nMatter.use('matter-wrap');\n\nfunction runMatter() {\n  // module aliases\n  var Engine = Matter.Engine,\n    Events = Matter.Events,\n    Runner = Matter.Runner,\n    Render = Matter.Render,\n    World = Matter.World,\n    Body = Matter.Body,\n    Mouse = Matter.Mouse,\n    Common = Matter.Common,\n    Composite = Matter.Composite,\n    Composites = Matter.Composites,\n    Bodies = Matter.Bodies;\n\n  // create engine\n  var engine = Engine.create();\n\n  engine.world.gravity.y = 0\n  engine.world.gravity.x = 0\n  engine.world.gravity.scale = 0.1\n\n  // create renderer\n  var render = Render.create({\n    element: canvas,\n    engine: engine,\n    options: {\n      showVelocity: false,\n      width: dimensions.width,\n      height: dimensions.height,\n      wireframes: false,\n      background: 'rgb(240,240,240)'\n    }\n  });\n\n  // create runner\n  var runner = Runner.create();\n\n  // Runner.run(runner, engine);\n  // Render.run(render);\n\n  // create demo scene\n  var world = engine.world;\n  world.gravity.scale = 0;\n\n  // create a body with an attractor\n  var attractiveBody = Bodies.circle(\n    render.options.width / 2,\n    render.options.height / 2,\n    (Math.max(dimensions.width / 4, dimensions.height / 4)) / 2,\n    {\n      render: {\n        fillStyle: `rgb(240,240,240)`,\n        strokeStyle: `rgb(240,240,240)`,\n        lineWidth: 0\n      },\n      isStatic: true,\n      plugin: {\n        attractors: [\n          function (bodyA, bodyB) {\n            return {\n              x: (bodyA.position.x - bodyB.position.x) * 1e-6,\n              y: (bodyA.position.y - bodyB.position.y) * 1e-6,\n            };\n          }\n        ]\n      }\n    });\n\n  World.add(world, attractiveBody);\n\n  // add some bodies that to be attracted\n  for (var i = 0; i < 60; i += 1) {\n    let x = Common.random(0, render.options.width);\n    let y = Common.random(0, render.options.height);\n    let s = Common.random() > 0.6 ? Common.random(10, 80) : Common.random(4, 60);\n    let poligonNumber = Common.random(3, 6);\n    var body = Bodies.polygon(\n      x, y,\n      poligonNumber,\n      s,\n\n      {\n        mass: s / 20,\n        friction: 0,\n        frictionAir: 0.02,\n        angle: Math.round(Math.random() * 360),\n        render: {\n          fillStyle: '#FFFFFF',\n          strokeStyle: `#DDDDDD`,\n          lineWidth: 2\n        }\n      }\n    );\n\n    World.add(world, body);\n\n\n    let r = Common.random(0, 1)\n    var circle = Bodies.circle(x, y, Common.random(2, 8), {\n      mass: 0.1,\n      friction: 0,\n      frictionAir: 0.01,\n      render: {\n        fillStyle: r > 0.3 ? `#FF2D6A` : `rgb(240,240,240)`,\n        strokeStyle: `#E9202E`,\n        lineWidth: 2\n      }\n    });\n    World.add(world, circle);\n\n    var circle = Bodies.circle(x, y, Common.random(2, 20), {\n      mass: 6,\n      friction: 0,\n      frictionAir: 0,\n      render: {\n        fillStyle: r > 0.3 ? `#4267F8` : `rgb(240,240,240)`,\n        strokeStyle: `#3257E8`,\n        lineWidth: 4\n      }\n    });\n    World.add(world, circle);\n\n    var circle = Bodies.circle(x, y, Common.random(2, 30), {\n      mass: 0.2,\n      friction: 0.6,\n      frictionAir: 0.8,\n      render: {\n        fillStyle: `rgb(240,240,240)`,\n        strokeStyle: `#FFFFFF`,\n        lineWidth: 3\n      }\n    });\n    World.add(world, circle);\n  }\n\n  // add mouse control\n  var mouse = Mouse.create(render.canvas);\n\n  Events.on(engine, 'afterUpdate', function () {\n    if (!mouse.position.x) return;\n    // smoothly move the attractor body towards the mouse\n    Body.translate(attractiveBody, {\n      x: (mouse.position.x - attractiveBody.position.x) * 0.12,\n      y: (mouse.position.y - attractiveBody.position.y) * 0.12\n    });\n  });\n\n\n  // return a context for MatterDemo to control\n  let data = {\n    engine: engine,\n    runner: runner,\n    render: render,\n    canvas: render.canvas,\n    stop: function () {\n      Matter.Render.stop(render);\n      Matter.Runner.stop(runner);\n    },\n    play: function () {\n      Matter.Runner.run(runner, engine);\n      Matter.Render.run(render);\n    }\n  };\n  Matter.Runner.run(runner, engine);\n  Matter.Render.run(render);\n  return data;\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this, args = arguments;\n    var later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\nfunction setWindowSize() {\n  let dimensions = {};\n  dimensions.width = $(window).width();\n  dimensions.height = $(window).height();\n\n  m.render.canvas.width = $(window).width();\n  m.render.canvas.height = $(window).height();\n  return dimensions;\n}\n\nlet m = runMatter()\nsetWindowSize()\n$(window).resize(debounce(setWindowSize, 250))\n\n"]}